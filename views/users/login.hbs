{{!-- 引入header.hbs 文件，作为全局的头部文件 --}}
{{> header}}
<div class="ui-login-content">
    <div class="container">
        <div class="ui-login-wrap">
            <div class="ui-login">
                <form id="login-form" class="ui-login-from">
                    <div class="input-group">
                        <span class="input-group-addon" id="basic-addon1">账号</span>
                        <input type="text" class="form-control" name="username" placeholder="Username" aria-describedby="basic-addon1">
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon" id="basic-addon2">密码</span>
                        <input type="password" class="form-control" name="password" placeholder="Password" aria-describedby="basic-addon2">
                    </div>
                     <!--<button type="button" class="btn btn-success btn-block">登&nbsp;&nbsp;&nbsp;&nbsp;录</button>-->
                     <button id="sign-in-btn" type="button" class="btn btn-success btn-block">Sign in</button>
                </form>
            </div>
        </div>
    </div>
</div>

{{#extend "stylesheets"}}
    <link rel='stylesheet' href='/stylesheets/users/login.css' />
{{/extend}}

{{#extend "scripts"}}
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script>
        $.fn.serializeObject = function() {
            var o = {};
            var $form = $(this);
            $.each($form.serializeArray(), function(index) {
                if (o[this['name']]) {
                    o[this['name']] = o[this['name']] + "," + this['value'];
                } else {
                    o[this['name']] = this['value'];
                }
            });
            return o;
        };
    </script>
    <script>
        $(function () {
            $("#sign-in-btn").on("click",function () {
                var data = $("#login-form").serializeObject();

                $.ajax({
                    "url": "/users/login",
                    "type":"post",
                    "data": data,
                    "success": function (res) {
                        console.log(res);
                    }
                });
            });
        });
    </script>
{{/extend}}
